$(document).ready((function(){var a=$("#laptop-list").DataTable({stateSave:!0,bFilter:!1,pageLength:25,oLanguage:{sEmptyTable:"No Data"}});function e(){$.ajax({type:"GET",url:"/devj_portal/public/api/laptops/search",data:{keyword:$("input[name=searchInput]").val(),availability:$("input[name=laptopAvailability]:checked").val(),status:$("input[name=laptopStatus]:checked").val()},dataType:"json",encode:!0}).done((function(e){console.log(e),e.success&&(a.clear().draw(),e.update.forEach((function(e){a.row.add(['<a href="'+window.location.href+e.id+'">'+e.tag_number+"</a>",e.peza_form_number,e.peza_permit_number,e.laptop_make,e.laptop_model,e.status]).draw(!1)})))})).fail((function(){console.log("error")}))}$(".laptop-search-availability").click((function(){e()})),$(".laptop-status").click((function(){e()})),$("#search-input").on("input",(function(){e()})),$("#edit-form").submit((function(a){var e=$("#edit-form").serializeArray(),r=[];e.forEach((function(a){r[a.name]=a.value}));var o=JSON.stringify(Object.assign({},r));o=JSON.parse(o),console.log(o),$.ajax({type:"POST",url:"/devj_portal/public/api/laptops/update",data:o,dataType:"json",encode:!0}).done((function(a){for(var e in o)$("#"+e+"-error").empty();if(a.success)location.reload();else for(var e in errors=a.data,errors)$("#"+e+"-error").html(errors[e][0])})).fail((function(){console.log("error")})),a.preventDefault()})),$("#link-req-tbl").DataTable({stateSave:!0,bFilter:!1,pageLength:10,oLanguage:{sEmptyTable:"No Data"}}),$("#update-linkage-form").submit((function(a){var e=$("#update-linkage-form").serializeArray(),r=[];e.forEach((function(a){r[a.name]=a.value})),r.brought_home_flag=$("#ul-brought-home").is(":checked")?1:0,r.vpn_flag=$("#ul-vpn").is(":checked")?1:0,r.surrender_flag=$("#ul-surrender").is(":checked")?1:0;var o=JSON.stringify(Object.assign({},r));o=JSON.parse(o),$.ajax({type:"POST",url:"/devj_portal/public/api/laptops/updateLinkage",data:o,dataType:"json",encode:!0}).done((function(a){for(var e in o)$("#ul-"+e+"-error").empty();if(a.success)location.reload();else for(var e in errors=a.data,errors)$("#ul-"+e+"-error").html(errors[e][0]).addClass("text-danger")})).fail((function(){console.log("error")})),a.preventDefault()})),$("#link-form").submit((function(a){var e=$("#link-form").serializeArray(),r=[];e.forEach((function(a){r[a.name]=a.value})),r.brought_home_flag=$("#ll-brought-home").is(":checked")?1:0,r.vpn_flag=$("#ll-vpn").is(":checked")?1:0;var o=JSON.stringify(Object.assign({},r));o=JSON.parse(o),console.log(o),$.ajax({type:"POST",url:"/devj_portal/public/api/laptops/registLinkage",data:o,dataType:"json",encode:!0}).done((function(a){for(var e in o)$("#ll-"+e+"-error").empty();if(a.success)location.reload();else for(var e in errors=a.data,errors)console.log("#ll-"+e+"-error"),$("#ll-"+e+"-error").html(errors[e][0]).addClass("text-danger")})).fail((function(){console.log("error")})),a.preventDefault()})),$("#emp-hist-tbl").DataTable({stateSave:!0,pageLength:10,bFilter:!1,oLanguage:{sEmptyTable:"No Data"}})}));